[{"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\index.js":"1","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\App.js":"2","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\serviceWorker.js":"3","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\app\\Store.js":"4","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\app\\NavHeader.js":"5","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\app\\AxiosSetup.js":"6","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\PortfolioPage.js":"7","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\members\\MembersPage.js":"8","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\PortfolioSlice.js":"9","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\leaderboard\\LeaderBoardPage.js":"10","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\login\\LoginModal.js":"11","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\login\\LoginSlice.js":"12","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\stocks\\stocksSlice.js":"13","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\stockSearch\\StockSearchSlice.js":"14","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\Portfolio.js":"15","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\stockSearch\\StockSearchBar.js":"16","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\chatbox\\ChatBox.js":"17","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\PortfolioStock.js":"18","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\stockSearch\\StockSearchMatch.js":"19","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\PortfolioListener.js":"20","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\app\\FireBasePaths.js":"21","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\index.js":"22","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\App.js":"23","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\serviceWorker.js":"24","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\Store.js":"25","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\AxiosSetup.js":"26","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\NavHeader.js":"27","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\login\\LoginModal.js":"28","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\leaderboard\\LeaderBoardPage.js":"29","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\login\\LoginSlice.js":"30","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioSlice.js":"31","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\members\\MembersPage.js":"32","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioPage.js":"33","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\stockSearch\\StockSearchSlice.js":"34","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\stocks\\stocksSlice.js":"35","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\Portfolio.js":"36","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioListener.js":"37","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\stockSearch\\StockSearchBar.js":"38","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\chatbox\\ChatBox.js":"39","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioStock.js":"40","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FireBasePaths.js":"41","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\stockSearch\\StockSearchMatch.js":"42","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FirebaseManager.js":"43","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FireBaseSetup.js":"44","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FirebaseSetup.js":"45","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FirebasePaths.js":"46","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioStockListener.js":"47","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\TickerTape.js":"48"},{"size":645,"mtime":1609028169649,"results":"49","hashOfConfig":"50"},{"size":1817,"mtime":1609631496641,"results":"51","hashOfConfig":"50"},{"size":5141,"mtime":499162500000,"results":"52","hashOfConfig":"50"},{"size":501,"mtime":1609146712670,"results":"53","hashOfConfig":"50"},{"size":1050,"mtime":1603264361867,"results":"54","hashOfConfig":"50"},{"size":513,"mtime":1602833275954,"results":"55","hashOfConfig":"50"},{"size":1656,"mtime":1609146683253,"results":"56","hashOfConfig":"50"},{"size":133,"mtime":1600658835101,"results":"57","hashOfConfig":"50"},{"size":3120,"mtime":1609640305938,"results":"58","hashOfConfig":"50"},{"size":141,"mtime":1600658825334,"results":"59","hashOfConfig":"50"},{"size":1003,"mtime":1609144036815,"results":"60","hashOfConfig":"50"},{"size":1670,"mtime":1609550243246,"results":"61","hashOfConfig":"50"},{"size":2757,"mtime":1609715889867,"results":"62","hashOfConfig":"50"},{"size":1674,"mtime":1609029103580,"results":"63","hashOfConfig":"50"},{"size":1630,"mtime":1610325751682,"results":"64","hashOfConfig":"50"},{"size":3355,"mtime":1609639423510,"results":"65","hashOfConfig":"50"},{"size":151,"mtime":1602466110538,"results":"66","hashOfConfig":"50"},{"size":1527,"mtime":1610325738816,"results":"67","hashOfConfig":"50"},{"size":526,"mtime":1609639394915,"results":"68","hashOfConfig":"50"},{"size":3230,"mtime":1609751544382,"results":"69","hashOfConfig":"50"},{"size":53,"mtime":1609713730287,"results":"70","hashOfConfig":"50"},{"size":651,"mtime":1610841393566,"results":"71","hashOfConfig":"72"},{"size":1869,"mtime":1614152939421,"results":"73","hashOfConfig":"72"},{"size":5141,"mtime":499162500000,"results":"74","hashOfConfig":"72"},{"size":544,"mtime":1610839832442,"results":"75","hashOfConfig":"72"},{"size":513,"mtime":1602833275954,"results":"76","hashOfConfig":"72"},{"size":1040,"mtime":1613548674786,"results":"77","hashOfConfig":"72"},{"size":989,"mtime":1612770236551,"results":"78","hashOfConfig":"72"},{"size":141,"mtime":1600658825334,"results":"79","hashOfConfig":"72"},{"size":2684,"mtime":1613544985272,"results":"80","hashOfConfig":"72"},{"size":3136,"mtime":1611652324572,"results":"81","hashOfConfig":"72"},{"size":133,"mtime":1600658835101,"results":"82","hashOfConfig":"72"},{"size":1602,"mtime":1614152969860,"results":"83","hashOfConfig":"72"},{"size":1630,"mtime":1610925641265,"results":"84","hashOfConfig":"72"},{"size":2451,"mtime":1613542629106,"results":"85","hashOfConfig":"72"},{"size":1811,"mtime":1611652257057,"results":"86","hashOfConfig":"72"},{"size":3395,"mtime":1613458062182,"results":"87","hashOfConfig":"72"},{"size":3416,"mtime":1611651077679,"results":"88","hashOfConfig":"72"},{"size":151,"mtime":1602466110538,"results":"89","hashOfConfig":"72"},{"size":1608,"mtime":1610872913064,"results":"90","hashOfConfig":"72"},{"size":53,"mtime":1612767209296,"results":"91","hashOfConfig":"72"},{"size":563,"mtime":1611651192386,"results":"92","hashOfConfig":"72"},{"size":966,"mtime":1613544172359,"results":"93","hashOfConfig":"72"},{"size":812,"mtime":1612768898978,"results":"94","hashOfConfig":"72"},{"size":812,"mtime":1612768898978,"results":"95","hashOfConfig":"72"},{"size":53,"mtime":1612767209296,"results":"96","hashOfConfig":"72"},{"size":1112,"mtime":1613457618193,"results":"97","hashOfConfig":"72"},{"size":1406,"mtime":1614154035115,"results":"98","hashOfConfig":"72"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},"1evxni5",{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"138"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"101"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},"kmo8nd",{"filePath":"147","messages":"148","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"177","usedDeprecatedRules":"146"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"190","usedDeprecatedRules":"146"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\index.js",[],["201","202"],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\App.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\serviceWorker.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\app\\Store.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\app\\NavHeader.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\app\\AxiosSetup.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\PortfolioPage.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\members\\MembersPage.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\PortfolioSlice.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\leaderboard\\LeaderBoardPage.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\login\\LoginModal.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\login\\LoginSlice.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\stocks\\stocksSlice.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\stockSearch\\StockSearchSlice.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\Portfolio.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\stockSearch\\StockSearchBar.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\chatbox\\ChatBox.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\PortfolioStock.js",[],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\stockSearch\\StockSearchMatch.js",[],["203","204"],"C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\features\\portfolio\\PortfolioListener.js",["205"],"import './Portfolio.css';\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { fetchStockSingleQuoteDatas, selectStocksLastUpdatedDates } from './../stocks/stocksSlice'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\n\r\nimport firebase from 'firebase/app';\r\nimport { selectPortfolio } from './PortfolioSlice';\r\nimport { singleQuoteDataPath } from '../../app/FireBasePaths';\r\n\r\n/**\r\n * Listens to any changes to any stock data changes for the symbols in the portfolio.\r\n * Uses firebase realtime database to listen for any changes.\r\n */\r\nexport const PortfolioListener = function(){\r\n\r\n\r\n    const portfolio = useSelector(selectPortfolio);\r\n    const stockLastUpdatedDates = useSelector(selectStocksLastUpdatedDates, shallowEqual);\r\n\r\n    const dispatch = useDispatch();\r\n  \r\n    useEffect(() => {\r\n        let portfolioSymbolsToUpdate = [];\r\n        const listeners = [];\r\n        let interval;\r\n\r\n        function checkStockNeedsRefreshing(portfolioSymbol, stockChangedNotification){\r\n\r\n            const currentLastUpdatedDate = stockLastUpdatedDates[portfolioSymbol.symbolId];\r\n            const noDataExists = !currentLastUpdatedDate || currentLastUpdatedDate.lastUpdated === null || !stockChangedNotification;\r\n            const isStaleData = noDataExists || Date.parse(stockChangedNotification.lastUpdated) > Date.parse(currentLastUpdatedDate);\r\n\r\n            if(isStaleData){\r\n                portfolioSymbolsToUpdate.push(portfolioSymbol);\r\n            }\r\n        }\r\n\r\n\r\n        function addListenersPortfolioSymbol(){\r\n            for(const portfolioSymbol of portfolio.portfolioSymbols){        \r\n                const stockRef = firebase.database().ref(`${singleQuoteDataPath}/${portfolioSymbol.symbolId}`);\r\n                listeners.push(stockRef);\r\n\r\n                // Receives notification that the data has changed.\r\n                // Push the symbol to be updated by interval if it the data is newer.\r\n                stockRef.on('value', (snapshot) => {\r\n                    const stockChangedNotification = snapshot.val();\r\n\r\n                    checkStockNeedsRefreshing(portfolioSymbol, stockChangedNotification);\r\n                });\r\n            }\r\n        }\r\n\r\n        function clearListeners(){\r\n            for(const listener of listeners){\r\n                listener.off('value');\r\n            }\r\n        }\r\n\r\n        // Update stock symbols in interval so the calls are batched to reduce chattiness.\r\n        function setIntervalUpdateSymbols(){\r\n            interval = setInterval(() => {\r\n                if(portfolioSymbolsToUpdate.length === 0){\r\n                    return;\r\n                }\r\n                \r\n                const symbolIds = portfolioSymbolsToUpdate.map(s => s.symbolId);\r\n\r\n                dispatch(fetchStockSingleQuoteDatas(symbolIds));\r\n              \r\n                portfolioSymbolsToUpdate = [];\r\n\r\n            }, process.env.REACT_APP_STOCK_REFRESH_RATE_MS);\r\n        }\r\n\r\n        addListenersPortfolioSymbol();\r\n        setIntervalUpdateSymbols();\r\n\r\n        return () => { \r\n            clearListeners();\r\n            clearInterval(interval);\r\n        };\r\n      }, [portfolio, stockLastUpdatedDates, dispatch]);\r\n\r\n    return (null);\r\n}\r\n\r\n","C:\\GitHub\\Fomo\\FomoApp\\clientapp\\src\\app\\FireBasePaths.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\index.js",[],["206","207"],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\App.js",["208"],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\serviceWorker.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\Store.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\AxiosSetup.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\NavHeader.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\login\\LoginModal.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\leaderboard\\LeaderBoardPage.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\login\\LoginSlice.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioSlice.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\members\\MembersPage.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioPage.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\stockSearch\\StockSearchSlice.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\stocks\\stocksSlice.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\Portfolio.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioListener.js",["209"],"import './Portfolio.css';\r\n\r\nimport { fetchStockSingleQuoteDatas, selectStocksLastUpdatedDates } from './../stocks/stocksSlice';\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\r\n\r\nimport PortfolioStockListener from './PortfolioStockListener';\r\nimport firebase from 'firebase/app';\r\nimport { selectSelectedPortfolio } from './PortfolioSlice';\r\nimport { singleQuoteDataPath } from '../../app/FirebasePaths';\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n * Listens to any changes to any stock data changes for the symbols in the portfolio using firebase.\r\n * Any stale stocks will queue up a request to fetch new data in regular intervals.\r\n */\r\nexport default function PortfolioListener(){\r\n\r\n    const portfolio = useSelector(selectSelectedPortfolio, shallowEqual);\r\n\r\n    // When a stock is stale, it'll trigger an update request and this list stockLastUpdatedDates will refresh\r\n    // recreating the portfolio stock listeners with the new dates and info.\r\n    const stockLastUpdatedDates = useSelector(selectStocksLastUpdatedDates, shallowEqual);\r\n\r\n    const dispatch = useDispatch();\r\n  \r\n    useEffect(() => {\r\n        const portfolioStockListeners = [];\r\n\r\n        let subscribeInterval;\r\n        let batchInterval;\r\n        let symbolIdsToUpdate = [];\r\n      \r\n        function clearListeners(){\r\n            for(const listener of portfolioStockListeners){\r\n                listener.clearListener();\r\n            }\r\n        }\r\n\r\n        function notifyStockDataChanged(symbolId){\r\n            symbolIdsToUpdate.push(symbolId);\r\n        }\r\n\r\n        function createListeners(){\r\n            for(const portfolioSymbol of portfolio.portfolioSymbols){\r\n                const listener = new PortfolioStockListener(portfolioSymbol, stockLastUpdatedDates[portfolioSymbol.symbolId]);\r\n                listener.bindListener(notifyStockDataChanged, firebase);\r\n                portfolioStockListeners.push(listener);\r\n            }\r\n        }\r\n     \r\n        // gets server data and subscribe to any further update\r\n        function subscribeStockUpdates(){\r\n            const symbolIds = portfolio.portfolioSymbols.map(s => s.symbolId);\r\n\r\n            if(symbolIds.length > 0){\r\n                dispatch(fetchStockSingleQuoteDatas(symbolIds));\r\n            }       \r\n        }\r\n\r\n        function batchUpdateStocks(){\r\n            if(symbolIdsToUpdate.length > 0){\r\n                dispatch(fetchStockSingleQuoteDatas(symbolIdsToUpdate));\r\n            }\r\n\r\n            symbolIdsToUpdate = [];             \r\n        }\r\n\r\n        createListeners();\r\n        subscribeStockUpdates();\r\n\r\n        // This will periodically poll for any changes and notify the server that\r\n        // these stocks are awaiting updates. The server will prioritize stocks\r\n        // with the most subscriber for a set interval.\r\n        subscribeInterval = setInterval(subscribeStockUpdates, process.env.REACT_APP_STOCK_SUBSCRIBE_RATE_MS);\r\n\r\n        // For stocks that received a notification to update, they will be batched together for an interval.\r\n        batchInterval = setInterval(batchUpdateStocks, process.env.REACT_APP_STOCK_REFRESH_RATE_MS);\r\n\r\n        return () => { \r\n            clearListeners();\r\n            clearInterval(subscribeInterval);\r\n            clearInterval(batchInterval);\r\n        };\r\n      }, [portfolio, stockLastUpdatedDates, dispatch]);\r\n\r\n    return (null);\r\n}\r\n\r\n","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\stockSearch\\StockSearchBar.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\chatbox\\ChatBox.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioStock.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FireBasePaths.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\stockSearch\\StockSearchMatch.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FirebaseManager.js",["210"],"import 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nimport {getClientCustomToken, selectClientCustomToken, setFireBaseAuthenticated} from  '../features/login/LoginSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport React from 'react';\r\nimport firebase from 'firebase/app';\r\nimport { useEffect } from 'react/cjs/react.development';\r\n\r\n// Manages the login for firebase\r\nexport const FirebaseManager = function() {\r\n\r\n  const dispatch = useDispatch();\r\n  const clientToken = useSelector(selectClientCustomToken);\r\n\r\n  useEffect(() => {\r\n    dispatch(getClientCustomToken());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    async function signIn(){\r\n      if(clientToken){\r\n        try{\r\n          await firebase.auth().signInWithCustomToken(clientToken)\r\n          dispatch(setFireBaseAuthenticated());\r\n        }\r\n        catch(ex){\r\n        }\r\n      }\r\n    }\r\n    \r\n    signIn();\r\n  }, [dispatch, clientToken]);\r\n\r\n\r\n  return null;\r\n}\r\n\r\n\r\n","C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FireBaseSetup.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FirebaseSetup.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\app\\FirebasePaths.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\PortfolioStockListener.js",[],"C:\\GitHub\\Fomo\\FomoApp\\ClientApp\\src\\features\\portfolio\\TickerTape.js",[],{"ruleId":"211","replacedBy":"212"},{"ruleId":"213","replacedBy":"214"},{"ruleId":"211","replacedBy":"215"},{"ruleId":"213","replacedBy":"216"},{"ruleId":"217","severity":1,"message":"218","line":3,"column":8,"nodeType":"219","messageId":"220","endLine":3,"endColumn":13},{"ruleId":"211","replacedBy":"221"},{"ruleId":"213","replacedBy":"222"},{"ruleId":"217","severity":1,"message":"223","line":3,"column":28,"nodeType":"219","messageId":"220","endLine":3,"endColumn":36},{"ruleId":"217","severity":1,"message":"224","line":9,"column":10,"nodeType":"219","messageId":"220","endLine":9,"endColumn":29},{"ruleId":"217","severity":1,"message":"218","line":7,"column":8,"nodeType":"219","messageId":"220","endLine":7,"endColumn":13},"no-native-reassign",["225"],"no-negated-in-lhs",["226"],["225"],["226"],"no-unused-vars","'React' is defined but never used.","Identifier","unusedVar",["225"],["226"],"'useState' is defined but never used.","'singleQuoteDataPath' is defined but never used.","no-global-assign","no-unsafe-negation"]